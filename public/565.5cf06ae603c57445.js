"use strict";(self.webpackChunkMercado=self.webpackChunkMercado||[]).push([[565],{9097:(w,Z,e)=>{e.d(Z,{k:()=>f});var t=e(5e3),h=e(9646),b=e(8505),o=e(4004),_=e(262),v=e(4766),P=e(520);let f=(()=>{class M{constructor(s){this.http=s,this.baseUrl=v.N.baseUrl,this.usuario$=new t.vpe}get producto(){return Object.assign({},this._producto)}crearProducto(s){return this.http.post(`${this.baseUrl}/home/newProduct`,s).pipe((0,b.b)(({ok:u})=>u),(0,o.U)(u=>u.ok),(0,_.K)(u=>(0,h.of)(u.error.msg)))}editarProducto(s,u){return this.http.put(`${this.baseUrl}/home/producto/${s}`,u)}eliminarProducto(s){return this.http.delete(`${this.baseUrl}/home/producto/${s}`)}getProductos(){return this.http.get(`${this.baseUrl}/home/products`)}getProductoID(s){return this.http.get(`${this.baseUrl}/home/products/${s}`)}getProductosSugeridos(s){return this.http.get(`${this.baseUrl}/home/productos?product=${s}&_limit=5`)}getProductoXcategoria(s){return this.http.get(`${this.baseUrl}/home/productoscategoria?pxc=${s}`)}crearCategoria(s){return this.http.post(`${this.baseUrl}/home/newCategoria`,s).pipe((0,b.b)(({ok:u})=>u),(0,o.U)(u=>u.ok),(0,_.K)(u=>(0,h.of)(u.error.msg)))}getCategoriasSugeridas(s){return this.http.get(`${this.baseUrl}/home/categoria?cat=${s}&_limit=5`)}getCategorias(){return this.http.get(`${this.baseUrl}/home/categorias`)}getCategoriaID(s){return this.http.get(`${this.baseUrl}/home/categoria/${s}`)}editarCategoria(s,u){return this.http.put(`${this.baseUrl}/home/categoria/${s}`,u)}eliminarCategoria(s){return this.http.delete(`${this.baseUrl}/home/categoria/${s}`)}getImagen(s){return this.http.get(`${this.baseUrl}/dowload/${s}`)}uploadImagenes(s,u){const O=new FormData;return O.append("name",s),O.append("file",u,"form-data"),console.log(O),this.http.post(`${this.baseUrl}/upload`,O)}agregarACarrito(s,u){return this.http.put(`${this.baseUrl}/home/carrito/${s}`,u)}editarUnidadesCarrito(s,u){return this.http.put(`${this.baseUrl}/home/carrito/unidades/${s}`,u)}EliminarDelCarrito(s,u){return this.http.put(`${this.baseUrl}/home/carrito/eliminar/${s}`,u)}vaciarCarrito(s,u){return this.http.put(`${this.baseUrl}/home/carrito/vaciar/${s}`,u)}agregarCompra(s,u){return this.http.put(`${this.baseUrl}/home/compras/${s}`,u)}procesarCompra(s,u){return this.http.put(`${this.baseUrl}/home/carrito/comprar/${s}`,u)}}return M.\u0275fac=function(s){return new(s||M)(t.LFG(P.eN))},M.\u0275prov=t.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},8512:(w,Z,e)=>{e.d(Z,{p:()=>F});var t=e(5e3),h=e(1083),b=e(7192),o=e(7093),_=e(9808),v=e(773),P=e(9097),f=e(9224),M=e(4834),A=e(7423);function s(r,d){1&r&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner"),t.qZA())}function u(r,d){if(1&r&&t._UZ(0,"img",5),2&r){const n=t.oxw();t.s9C("src",n.img.fileUrl,t.LSH)}}function O(r,d){if(1&r){const n=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return l.editar(l.categoria.name)}),t._uU(1," Editar Categoria\n"),t.qZA()}}let U=(()=>{class r{constructor(n,i,l){this.router=n,this.productosService=i,this.authService=l,this.admin=!1,this.admin=this.authService.admin}ngOnInit(){this.buscarImagen()}irA(n){this.router.navigateByUrl(`/${this.url}/${n}`)}buscarImagen(){this.productosService.getImagen(this.categoria.img).subscribe(n=>{this.img=n})}editar(n){this.router.navigateByUrl(`/${this.url}/crear-editar-categoria/${n}`)}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(h.F0),t.Y36(P.k),t.Y36(b.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-tarjeta-categoria"]],inputs:{categoria:"categoria",url:"url"},decls:10,vars:6,consts:[[3,"click"],["fxLayoutAlign","center center"],[4,"ngIf","ngIfElse"],["divImg",""],["mat-raised-button","","color","warn","class","boton",3,"click",4,"ngIf"],["alt","imagen categoria",3,"src"],["mat-raised-button","","color","warn",1,"boton",3,"click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"mat-card",0),t.NdJ("click",function(){return i.irA(i.categoria.name)}),t.TgZ(1,"mat-card-title"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"mat-card-content",1),t.YNc(6,s,2,0,"div",2),t.YNc(7,u,1,1,"ng-template",null,3,t.W1O),t.qZA()(),t.YNc(9,O,2,0,"button",4)),2&n){const l=t.MAs(8);t.xp6(2),t.Oqu(t.lcZ(3,4,i.categoria.name)),t.xp6(4),t.Q6J("ngIf",!i.img)("ngIfElse",l),t.xp6(3),t.Q6J("ngIf",i.admin)}},directives:[f.a8,f.n5,M.d,f.dn,o.Wh,_.O5,v.Ou,A.lW],pipes:[_.rS],styles:["mat-card[_ngcontent-%COMP%]{height:100%;padding:0;display:flex;flex-direction:column;align-items:center;cursor:pointer;border-radius:25px}@media (max-width: 500px){mat-card[_ngcontent-%COMP%]{border-radius:20px}}img[_ngcontent-%COMP%]{width:100%;height:90%;object-fit:contain}mat-card-title[_ngcontent-%COMP%]{min-width:0;width:100%;height:25%;text-align:center;word-break:break-word;margin-bottom:0;display:flex;align-items:center;justify-content:center}mat-card-content[_ngcontent-%COMP%]{height:70%;width:90%;display:flex;align-items:flex-end;margin-bottom:0}.mat-card[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative;border-color:#000;border-top-width:1px}"]}),r})();function I(r,d){1&r&&(t.TgZ(0,"div",3)(1,"h2",4),t._uU(2,"No hay producto con esa Url"),t.qZA(),t._UZ(3,"mat-spinner"),t.qZA())}function E(r,d){if(1&r&&(t.TgZ(0,"div",7),t._UZ(1,"app-tarjeta-categoria",8),t.qZA()),2&r){const n=d.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("categoria",n)("url",i.url)}}function L(r,d){if(1&r&&(t.TgZ(0,"div",5),t.YNc(1,E,2,2,"div",6),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.categorias)}}let F=(()=>{class r{constructor(n,i){this.router=n,this.authService=i,this.admin=!1,this.admin=this.authService.admin}ngOnInit(){this.url=this.router.url,this.authService.getCategorias().subscribe(n=>{this.categorias=n})}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(h.F0),t.Y36(b.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-categorias"]],decls:4,vars:2,consts:[["fxLayoutAlign","center center"],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap","class","noProducto",4,"ngIf","ngIfElse"],["divCategorias",""],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap",1,"noProducto"],["fxFlex","100","fxLayoutAlign","center"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"categorias"],["fxFlex","15","fxFlex.md","20","fxFlex.sm","30","fxFlex.xs","40","class","categoria",4,"ngFor","ngForOf"],["fxFlex","15","fxFlex.md","20","fxFlex.sm","30","fxFlex.xs","40",1,"categoria"],[3,"categoria","url"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,I,4,0,"div",1),t.qZA(),t.YNc(2,L,2,1,"ng-template",null,2,t.W1O)),2&n){const l=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!i.categorias)("ngIfElse",l)}},directives:[o.Wh,_.O5,o.yH,o.xw,v.Ou,_.sg,U],styles:[".categorias[_ngcontent-%COMP%]{width:100%;margin:auto auto 30px;text-align:center}.categoria[_ngcontent-%COMP%]{height:250px;margin:10px 10px 40px}"]}),r})()},9258:(w,Z,e)=>{e.d(Z,{K:()=>P});var t=e(9808),h=e(3075),b=e(9764),o=e(1083),_=e(6234),v=e(5e3);let P=(()=>{class f{}return f.\u0275fac=function(A){return new(A||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({imports:[[t.ez,h.u5,b.o9,h.UX,o.Bz,_.q]]}),f})()},1170:(w,Z,e)=>{e.d(Z,{M:()=>R});var t=e(5e3),h=e(1083),b=e(5113),o=e(7192),_=e(4594),v=e(7093),P=e(9808),f=e(9097),M=e(4106),A=e(7531),s=e(3075),u=e(1079),O=e(508);function U(a,g){if(1&a&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&a){const c=g.$implicit;t.Q6J("value",c),t.xp6(1),t.hij(" ",c.name,"")}}function I(a,g){if(1&a&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&a){const c=g.$implicit;t.Q6J("value",c),t.xp6(1),t.hij(" ",c.name," ")}}let E=(()=>{class a{constructor(c,m,x){this.router=c,this.productoService=m,this.authService=x,this.termino="",this.productos=[],this.categorias=[],this.categoriasSugeridas=[],this.url="home",this.authService.admin&&(this.url="admin")}ngOnInit(){this.productoService.getCategorias().subscribe(c=>this.categorias=c)}buscando(){this.productoService.getProductosSugeridos(this.termino.trim().toLowerCase()).subscribe(c=>this.productos=c),this.productoService.getCategoriasSugeridas(this.termino.trim()).subscribe(c=>this.categoriasSugeridas=c)}opcionSeleccionada(c){let m=this.categorias.filter(x=>x.name.trim()==c.option.value.name.trim());if(1==m.length)this.termino=m[0].name,this.router.navigateByUrl(`/${this.url}/${this.termino}`);else{const x=c.option.value;this.termino=x.name,this.router.navigateByUrl(`/${this.url}/${x.categoria}/${x.name}`)}}}return a.\u0275fac=function(c){return new(c||a)(t.Y36(h.F0),t.Y36(f.k),t.Y36(o.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-buscar"]],decls:7,vars:4,consts:[["appearance","fill"],["type","text","placeholder","Buscar producto...","aria-label","Number","matInput","",3,"ngModel","matAutocomplete","ngModelChange","input"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(c,m){if(1&c&&(t.TgZ(0,"mat-form-field",0)(1,"input",1),t.NdJ("ngModelChange",function(y){return m.termino=y})("input",function(){return m.buscando()}),t.qZA(),t.TgZ(2,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(y){return m.opcionSeleccionada(y)}),t.TgZ(4,"mat-optgroup"),t.YNc(5,U,2,2,"mat-option",4),t.YNc(6,I,2,2,"mat-option",4),t.qZA()()()),2&c){const x=t.MAs(3);t.xp6(1),t.Q6J("ngModel",m.termino)("matAutocomplete",x),t.xp6(4),t.Q6J("ngForOf",m.categoriasSugeridas),t.xp6(1),t.Q6J("ngForOf",m.productos)}},directives:[M.KE,A.Nt,s.Fj,u.ZL,s.JJ,s.On,u.XC,O.Nv,P.sg,O.ey],styles:[".mat-optgroup-label{height:0px!important}.mat-input-element[_ngcontent-%COMP%]::placeholder{color:#ffffffb6}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000001a!important}.mat-form-field[_ngcontent-%COMP%]{display:flow-root}@media (max-width: 900px){.mat-form-field[_ngcontent-%COMP%]{display:flex;justify-content:end}}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{padding:0 0 0 10px!important}[_nghost-%COMP%]     .mat-form-field-wrapper{padding:0}[_nghost-%COMP%]     .mat-form-field-underline{bottom:2px}@media (min-width: 900px){[_nghost-%COMP%]     .mat-form-field-underline{bottom:0px}}"]}),a})();var L=e(7423),F=e(5245),r=e(2181);function d(a,g){1&a&&t._UZ(0,"app-buscar",6)}const n=function(){return["/home/carrito"]};function i(a,g){1&a&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3," Carrito "),t.qZA()),2&a&&t.Q6J("routerLink",t.DdM(1,n))}const l=function(){return["/home/compras"]};function p(a,g){1&a&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"local_mall"),t.qZA(),t._uU(3," Compras "),t.qZA()),2&a&&t.Q6J("routerLink",t.DdM(1,l))}function C(a,g){1&a&&(t.TgZ(0,"button",16)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," crear categoria "),t.qZA())}function T(a,g){1&a&&(t.TgZ(0,"button",17)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3,"crear Producto "),t.qZA())}function D(a,g){if(1&a){const c=t.EpF();t.TgZ(0,"div",7),t.YNc(1,i,4,2,"button",8),t.YNc(2,p,4,2,"button",8),t.YNc(3,C,4,0,"button",9),t.YNc(4,T,4,0,"button",10),t.TgZ(5,"button",11)(6,"mat-icon"),t._uU(7,"account_circle"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"mat-menu",12,13)(11,"button",14),t.NdJ("click",function(){return t.CHM(c),t.oxw().logOut()}),t.TgZ(12,"mat-icon"),t._uU(13,"logout"),t.qZA(),t._uU(14,"Log Out "),t.qZA()()()}if(2&a){const c=t.MAs(10),m=t.oxw();t.xp6(1),t.Q6J("ngIf",!m.admin),t.xp6(1),t.Q6J("ngIf",!m.admin),t.xp6(1),t.Q6J("ngIf",m.admin),t.xp6(1),t.Q6J("ngIf",m.admin),t.xp6(1),t.Q6J("matMenuTriggerFor",c),t.xp6(3),t.hij(" ",m.usuario.name," ")}}function S(a,g){1&a&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3," Carrito "),t.qZA()),2&a&&t.Q6J("routerLink",t.DdM(1,n))}function $(a,g){1&a&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"local_mall"),t.qZA(),t._uU(3," Compras "),t.qZA()),2&a&&t.Q6J("routerLink",t.DdM(1,l))}function Y(a,g){1&a&&(t.TgZ(0,"button",16)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," crear categoria "),t.qZA())}function J(a,g){1&a&&(t.TgZ(0,"button",17)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3,"crear Producto "),t.qZA())}function N(a,g){if(1&a){const c=t.EpF();t.TgZ(0,"div",18)(1,"button",11)(2,"mat-icon"),t._uU(3,"account_circle"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"mat-menu",12,19),t.YNc(7,S,4,2,"button",8),t.YNc(8,$,4,2,"button",8),t.YNc(9,Y,4,0,"button",9),t.YNc(10,J,4,0,"button",10),t.TgZ(11,"button",14),t.NdJ("click",function(){return t.CHM(c),t.oxw().logOut()}),t.TgZ(12,"mat-icon"),t._uU(13,"logout"),t.qZA(),t._uU(14,"Log Out "),t.qZA()()()}if(2&a){const c=t.MAs(6),m=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",c),t.xp6(3),t.hij(" ",m.usuario.name," "),t.xp6(3),t.Q6J("ngIf",!m.admin),t.xp6(1),t.Q6J("ngIf",!m.admin),t.xp6(1),t.Q6J("ngIf",m.admin),t.xp6(1),t.Q6J("ngIf",m.admin)}}function B(a,g){if(1&a){const c=t.EpF();t.TgZ(0,"div")(1,"button",14),t.NdJ("click",function(){const y=t.CHM(c).$implicit;return t.oxw(2).irA(y.name)}),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()}if(2&a){const c=g.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,c.name)," ")}}function j(a,g){if(1&a&&(t.TgZ(0,"div",7)(1,"div")(2,"button",15),t._uU(3," Categorias "),t.qZA()(),t.YNc(4,B,4,3,"div",20),t.qZA()),2&a){const c=t.oxw();t.xp6(2),t.Q6J("routerLink",c.admin?"/admin":"/home"),t.xp6(2),t.Q6J("ngForOf",c.categorias)}}function Q(a,g){if(1&a){const c=t.EpF();t.TgZ(0,"div")(1,"button",14),t.NdJ("click",function(){const y=t.CHM(c).$implicit;return t.oxw(2).irA(y.name)}),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()}if(2&a){const c=g.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,c.name)," ")}}function W(a,g){if(1&a&&(t.TgZ(0,"div",7)(1,"button",21),t._uU(2," Categorias "),t.qZA(),t.TgZ(3,"div")(4,"button",22)(5,"mat-icon"),t._uU(6,"menu"),t.qZA()(),t.TgZ(7,"mat-menu",12,23),t.YNc(9,Q,4,3,"div",20),t.qZA()()(),t.TgZ(10,"div"),t._UZ(11,"app-buscar"),t.qZA()),2&a){const c=t.MAs(8),m=t.oxw();t.xp6(1),t.Q6J("routerLink",m.admin?"/admin":"/home"),t.xp6(3),t.Q6J("matMenuTriggerFor",c),t.xp6(5),t.Q6J("ngForOf",m.categorias)}}let R=(()=>{class a{constructor(c,m,x){this.router=c,this.breakpointObserver=m,this.authService=x,this.usuario=this.authService.usuario,this.categorias=[],this.admin=!1,this.url="/home",this.menuComprimido=!1}ngOnInit(){this.categorias=this.authService.categorias,this.admin=this.authService.admin,this.breakpointObserver.observe(["(min-width: 1060px)"]).subscribe(c=>{this.menuComprimido=!c.matches})}logOut(){this.router.navigateByUrl("/auth"),this.authService.logOut()}irA(c){this.admin&&(this.url="/admin"),this.router.navigateByUrl(`/${this.url}/${c}`)}}return a.\u0275fac=function(c){return new(c||a)(t.Y36(h.F0),t.Y36(b.Yg),t.Y36(o.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-menu"]],decls:13,vars:5,consts:[["fxLayout","row",1,"menuSuperior"],["fxFlex","30","fxFlex.xs","60",1,"titulo"],["fxFlex","30",4,"ngIf"],["fxLayout","row",4,"ngIf","ngIfElse"],["MenuComprimido",""],["menuComprido",""],["fxFlex","30"],["fxLayout","row"],["mat-button","",3,"routerLink",4,"ngIf"],["mat-button","","routerLink","crear-editar-categoria/new",4,"ngIf"],["mat-button","","routerLink","crear-editar-producto/new",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before","fxLayout","column"],["menus","matMenu"],["mat-button","",3,"click"],["mat-button","",3,"routerLink"],["mat-button","","routerLink","crear-editar-categoria/new"],["mat-button","","routerLink","crear-editar-producto/new"],[1,"botonUser"],["user","matMenu"],[4,"ngFor","ngForOf"],["mat-button","",1,"categ",3,"routerLink"],["mat-icon-button","",3,"matMenuTriggerFor"],["categ","matMenu"]],template:function(c,m){if(1&c&&(t.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"div",0)(3,"span",1),t._uU(4,"All Computers"),t.qZA(),t.YNc(5,d,1,0,"app-buscar",2),t.YNc(6,D,15,6,"div",3),t.YNc(7,N,15,6,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(9,"mat-toolbar-row"),t.YNc(10,j,5,2,"div",3),t.YNc(11,W,12,3,"ng-template",null,5,t.W1O),t.qZA()()),2&c){const x=t.MAs(8),y=t.MAs(12);t.xp6(5),t.Q6J("ngIf",!m.menuComprimido),t.xp6(1),t.Q6J("ngIf",!m.menuComprimido)("ngIfElse",x),t.xp6(4),t.Q6J("ngIf",!m.menuComprimido)("ngIfElse",y)}},directives:[_.Ye,_.rD,v.xw,v.yH,P.O5,E,L.lW,h.rH,F.Hw,r.p6,r.VK,P.sg],pipes:[P.rS],styles:[".menuSuperior[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;width:100%}.btMenuSUp[_ngcontent-%COMP%]{display:flex;justify-content:end}.titulo[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:35px;font-weight:700;padding-left:10px}.user[_ngcontent-%COMP%]{font-size:25px}.botonUser[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center}.categ[_ngcontent-%COMP%]{padding:0 10px}[_nghost-%COMP%]     span.mat-button-wrapper{display:flex!important;align-items:center!important}.mat-icon[_ngcontent-%COMP%]{color:#c59aff;margin-right:5px}.mat-icon-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}  .mat-menu-panel{background-color:#5200ff!important;color:#fff}  .mat-menu-panel span.mat-button-wrapper{display:flex!important;align-items:center!important}  .mat-menu-panel button{width:100%}.mat-toolbar[_ngcontent-%COMP%]{background-color:#3c00bb;color:#fff}.mat-toolbar[_ngcontent-%COMP%]{font-family:Cormorant Garamond,serif!important}.mat-button[_ngcontent-%COMP%]{font-family:Cormorant Garamond,serif!important;font-size:25px;display:inline-block;text-decoration:none;border-radius:10px}.mat-button[_ngcontent-%COMP%]:hover{border-radius:5px;background:rgb(95 24 245);box-shadow:1px 1px 8px #000}.mat-icon-button[_ngcontent-%COMP%]:hover{background:rgb(95 24 245);box-shadow:1px 1px 8px #000}.mat-form-field[_ngcontent-%COMP%]{display:contents}  .mat-menu-content{display:flex!important;flex-direction:column!important}  .mat-toolbar-row{padding:0!important;justify-content:space-between}"]}),a})()},3218:(w,Z,e)=>{e.d(Z,{n:()=>F});var t=e(5e3),h=e(1083),b=e(9097),o=e(7192),_=e(7093),v=e(9808),P=e(773),f=e(9224),M=e(7423);function A(r,d){1&r&&(t.TgZ(0,"div")(1,"div"),t._UZ(2,"mat-spinner"),t.qZA()())}function s(r,d){if(1&r&&t._UZ(0,"img",6),2&r){const n=t.oxw();t.s9C("src",n.img.fileUrl,t.LSH)}}function u(r,d){if(1&r){const n=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return l.editar(l.producto.name)}),t._uU(1," Editar Producto\n"),t.qZA()}}let O=(()=>{class r{constructor(n,i,l){this.productoService=n,this.router=i,this.authService=l,this.admin=!1,this.url=this.router.url,this.admin=this.authService.admin}ngOnInit(){this.buscarImagen()}verProducto(n){this.router.navigateByUrl(`/${this.url}/${n.name}`)}editar(n){this.router.navigateByUrl(`/admin/crear-editar-producto/${n}`)}buscarImagen(){this.productoService.getImagen(this.producto.img).subscribe(n=>{this.img=n})}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(b.k),t.Y36(h.F0),t.Y36(o.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-tarjeta-producto"]],inputs:{producto:"producto"},decls:12,vars:7,consts:[[3,"click"],["fxLayoutAlign","center center"],[4,"ngIf","ngIfElse"],["divImg",""],["fxLayout","column"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["alt","imagen categoria",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"mat-card",0),t.NdJ("click",function(){return i.verProducto(i.producto)}),t.TgZ(1,"mat-card-title"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"mat-card-content",1),t.YNc(5,A,3,0,"div",2),t.YNc(6,s,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(8,"mat-card-footer",4)(9,"h2"),t._uU(10),t.qZA()()(),t.YNc(11,u,2,0,"button",5)),2&n){const l=t.MAs(7);t.xp6(2),t.Oqu(t.lcZ(3,5,i.producto.name)),t.xp6(3),t.Q6J("ngIf",!i.img)("ngIfElse",l),t.xp6(5),t.hij("$",i.producto.price,""),t.xp6(1),t.Q6J("ngIf",i.admin)}},directives:[f.a8,f.n5,f.dn,_.Wh,v.O5,P.Ou,f.rt,_.xw,M.lW],pipes:[v.rS],styles:["mat-card[_ngcontent-%COMP%]{height:100%;padding:0;display:flex;flex-direction:column;align-items:center;cursor:pointer;border-radius:25px}@media (max-width: 500px){mat-card[_ngcontent-%COMP%]{border-radius:20px}}img[_ngcontent-%COMP%]{width:100%;height:90%;object-fit:contain}mat-card-title[_ngcontent-%COMP%]{min-width:0;width:100%;height:30%;text-align:center;word-break:break-word;margin-bottom:0;display:flex;align-items:center;justify-content:center;padding-top:5px}mat-card-content[_ngcontent-%COMP%]{height:55%;width:90%;display:flex;align-items:center;margin-bottom:0}mat-card-footer[_ngcontent-%COMP%]{height:15%;display:flex;align-items:center;justify-content:center}"]}),r})();function U(r,d){1&r&&(t.TgZ(0,"div",3)(1,"h2",4),t._uU(2,"No hay Categoria con esa Url"),t.qZA(),t._UZ(3,"mat-spinner"),t.qZA())}function I(r,d){1&r&&(t.TgZ(0,"div",8)(1,"h1"),t._uU(2,"No hay productos disponibles en esta categoria"),t.qZA()())}function E(r,d){if(1&r&&(t.TgZ(0,"div",9),t._UZ(1,"app-tarjeta-producto",10),t.qZA()),2&r){const n=d.$implicit;t.xp6(1),t.Q6J("producto",n)}}function L(r,d){if(1&r&&(t.TgZ(0,"div",5),t.YNc(1,I,3,0,"div",6),t.YNc(2,E,2,1,"div",7),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.categoria&&0==n.productos.length),t.xp6(1),t.Q6J("ngForOf",n.productos)}}let F=(()=>{class r{constructor(n,i,l,p){this.activeRoute=n,this.router=i,this.productoService=l,this.authService=p,this.productos=[],this.prodXcate=[],this.admin=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.admin=this.authService.admin,this.url=this.router.url}ngOnInit(){this.activeRoute.paramMap.subscribe(n=>{this.nombre=n.get("name")}),this.productoService.getCategorias().subscribe(n=>{n.map(i=>{i.name==this.nombre&&(this.categoria=i)})}),this.productoService.getProductoXcategoria(this.nombre).subscribe(n=>{this.productos=n})}editar(n){this.router.navigateByUrl(`/${this.url}/crear-editar-producto/${n}`)}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(h.gz),t.Y36(h.F0),t.Y36(b.k),t.Y36(o.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-por-categoria"]],decls:5,vars:2,consts:[["fxLayoutAlign","center center"],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap","class","noCategoria",4,"ngIf","ngIfElse"],["divCategoria",""],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap",1,"noCategoria"],["fxFlex","100","fxLayoutAlign","center"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"categoria"],["fxLayoutAlign","center center","class","noCategoria",4,"ngIf"],["fxFlex","20","fxFlex.md","25","fxFlex.sm","30","fxFlex.xs","40","class","productos",4,"ngFor","ngForOf"],["fxLayoutAlign","center center",1,"noCategoria"],["fxFlex","20","fxFlex.md","25","fxFlex.sm","30","fxFlex.xs","40",1,"productos"],[3,"producto"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,U,4,0,"div",1),t.qZA(),t.YNc(2,L,3,2,"ng-template",null,2,t.W1O),t._UZ(4,"router-outlet")),2&n){const l=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!i.categoria)("ngIfElse",l)}},directives:[_.Wh,v.O5,_.yH,_.xw,P.Ou,v.sg,O,h.lC],styles:[".categoria[_ngcontent-%COMP%]{width:100%;margin:auto auto 50px;text-align:center}.productos[_ngcontent-%COMP%]{height:270px;margin:10px 10px 40px}.noCategoria[_ngcontent-%COMP%]{background-color:#3c00bb;color:#fff;margin:100px 15px 15px;border-radius:10px;padding:15px 15px 40px;animation:2s ease 0s normal forwards 1 fadein}@keyframes fadein{0%{opacity:0}66%{opacity:0}to{opacity:1}}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#ede5e5!important}"]}),r})()},8325:(w,Z,e)=>{e.d(Z,{g:()=>n});var t=e(3075),h=e(5226),b=e.n(h),o=e(5e3),_=e(1083),v=e(7192),P=e(9097),f=e(7093),M=e(9808),A=e(773),s=e(4834),u=e(7423),O=e(4106),U=e(7531);function I(i,l){1&i&&(o.TgZ(0,"div",3)(1,"h2",4),o._uU(2,"No hay producto con esa Url"),o.qZA(),o._UZ(3,"mat-spinner"),o.qZA())}function E(i,l){1&i&&(o.TgZ(0,"div"),o._UZ(1,"mat-spinner"),o.qZA())}function L(i,l){if(1&i&&(o.TgZ(0,"div",0),o._UZ(1,"img",17),o.qZA()),2&i){const p=o.oxw(2);o.xp6(1),o.s9C("src",p.img.fileUrl,o.LSH)}}function F(i,l){if(1&i){const p=o.EpF();o.TgZ(0,"div",18)(1,"button",19),o.NdJ("click",function(){o.CHM(p);const T=o.oxw(2);return T.editar(T.producto.name)}),o._uU(2," Editar Producto "),o.qZA()()}}function r(i,l){if(1&i){const p=o.EpF();o.TgZ(0,"div",20)(1,"mat-label"),o._uU(2,"Cantidad: "),o.qZA(),o.TgZ(3,"mat-form-field",21),o._UZ(4,"input",22),o.qZA(),o.TgZ(5,"button",23),o.NdJ("click",function(){return o.CHM(p),o.oxw(2).comprar()}),o._uU(6," Comprar "),o.qZA()()}if(2&i){const p=o.oxw(2);o.xp6(5),o.Q6J("disabled",p.miFormulario.invalid)}}function d(i,l){if(1&i&&(o.TgZ(0,"div",0)(1,"div",5)(2,"div",6),o.YNc(3,E,2,0,"div",7),o.YNc(4,L,2,1,"ng-template",null,8,o.W1O),o._UZ(6,"mat-divider"),o.TgZ(7,"div",9)(8,"div",10)(9,"h3"),o._uU(10,"Descripcion:"),o.qZA(),o.TgZ(11,"span"),o._uU(12),o.qZA()()()(),o.TgZ(13,"div",11)(14,"div",12)(15,"h1"),o._uU(16),o.qZA(),o._UZ(17,"mat-divider"),o.qZA(),o.TgZ(18,"div",13)(19,"h2"),o._uU(20),o.ALo(21,"currency"),o.qZA(),o.TgZ(22,"span"),o._uU(23),o.qZA()(),o.YNc(24,F,3,0,"div",14),o.TgZ(25,"form",15),o.YNc(26,r,7,1,"div",16),o.qZA()()()()),2&i){const p=o.MAs(5),C=o.oxw();o.xp6(3),o.Q6J("ngIf",!C.img)("ngIfElse",p),o.xp6(9),o.Oqu(C.producto.description),o.xp6(4),o.Oqu(C.producto.name),o.xp6(4),o.Oqu(o.lcZ(21,9,C.producto.price)),o.xp6(3),o.hij("Unidades disponibles: ",C.producto.stock,""),o.xp6(1),o.Q6J("ngIf",C.admin),o.xp6(1),o.Q6J("formGroup",C.miFormulario),o.xp6(1),o.Q6J("ngIf",!C.admin)}}let n=(()=>{class i{constructor(p,C,T,D,S){this.activeRoute=p,this.router=C,this.fb=T,this.authService=D,this.productoService=S,this.miFormulario=this.fb.group({unidades:[null,[t.kI.required,t.kI.min(1),$=>t.kI.max(this.stock)($)]]}),this.admin=!1,this.stock=0,this.admin=this.authService.admin,this.usuario=this.authService.usuario}ngOnInit(){this.activeRoute.paramMap.subscribe(p=>{this.path=p.get("name")}),this.productoService.getProductosSugeridos(this.path).subscribe(p=>{this.producto=p[0],this.id=this.producto._id,this.stock=this.producto.stock,this.buscarImagen()})}editar(p){this.router.navigateByUrl(`/admin/crear-editar-producto/${p}`)}buscarImagen(){this.productoService.getImagen(this.producto.img).subscribe(p=>{this.img=p})}comprar(){const p=this.miFormulario.value.unidades;this.productoService.agregarACarrito(this.usuario.uid,{name:this.usuario.name,email:this.usuario.email,carrito:[{IDproducto:this.id,unidades:p,_id:this.id,precio:p*this.producto.price}]}).subscribe(T=>{this.authService.validarToken().subscribe(),b().fire({title:"Agregado al carrito ",text:"\xbfQuiere seguir comprando?",icon:"success",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Seguir comprando",cancelButtonColor:"#d33",cancelButtonText:"Ir al carrito"}).then(D=>{this.router.navigateByUrl(D.isConfirmed?"/home":"/home/carrito")})},T=>{b().fire({icon:"error",title:"Oops...",text:T.error.msg})})}}return i.\u0275fac=function(p){return new(p||i)(o.Y36(_.gz),o.Y36(_.F0),o.Y36(t.qu),o.Y36(v.e),o.Y36(P.k))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-producto"]],decls:4,vars:2,consts:[["fxLayoutAlign","center center"],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap","class","noProducto",4,"ngIf","ngIfElse"],["divProducto",""],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap",1,"noProducto"],["fxFlex","100","fxLayoutAlign","center"],["fxLayout","row wrap","fxFlex","90",1,"container"],["fxFlex","65","fxLayout","column","fxFlex.xs","100",1,"imagen"],[4,"ngIf","ngIfElse"],["divImg",""],["fxLayout","center"],["fxFlex","100","fxLayout","column","fxLayoutAlign","center flex-start",1,"container4"],["fxFlex","30","fxFlex.xs","100","fxLayout","column","fxLayoutAlign","none center",1,"container2"],["fxLayout","column",1,"datos"],[1,"container3"],["fxLayoutAlign","center",4,"ngIf"],["autocomplete","off",3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","center center","class","unidades",4,"ngIf"],["alt","imagen producto",3,"src"],["fxLayoutAlign","center"],["mat-raised-button","","color","warn",3,"click"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"unidades"],["appearance","fill",1,"form"],["matInput","","type","number","formControlName","unidades","placeholder","0",1,"input"],["fxFlex","70","mat-button","",1,"comprar",3,"disabled","click"]],template:function(p,C){if(1&p&&(o.TgZ(0,"div",0),o.YNc(1,I,4,0,"div",1),o.qZA(),o.YNc(2,d,27,11,"ng-template",null,2,o.W1O)),2&p){const T=o.MAs(3);o.xp6(1),o.Q6J("ngIf",!C.producto)("ngIfElse",T)}},directives:[f.Wh,M.O5,f.yH,f.xw,A.Ou,s.d,u.lW,t._Y,t.JL,t.sg,O.hX,O.KE,U.Nt,t.wV,t.Fj,t.JJ,t.u],pipes:[M.H9],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;margin:15px;border-radius:10px}.container2[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.767);border-radius:5px;margin:10px;padding-bottom:10px;max-height:400px}.container3[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:15px;margin-bottom:15px}.container4[_ngcontent-%COMP%]{margin:0 0 15px 15px}.noProducto[_ngcontent-%COMP%]{background-color:#3c00bb;color:#fff;margin:100px 15px 15px;border-radius:10px;padding:15px 15px 40px;transition-delay:1s;animation:2s ease 0s normal forwards 1 fadein}@keyframes fadein{0%{opacity:0}66%{opacity:0}to{opacity:1}}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#ede5e5!important}.imagen[_ngcontent-%COMP%]{max-height:1000px;display:flex;justify-content:center}img[_ngcontent-%COMP%]{width:50%;height:100%;max-height:500px;margin:10px 0}@media (max-width: 600px){img[_ngcontent-%COMP%]{width:80%;height:95%}}.datos[_ngcontent-%COMP%]{display:flex;align-items:center}.unidades[_ngcontent-%COMP%]{margin-top:15px}mat-label[_ngcontent-%COMP%]{font-size:25px;font-weight:600}span[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.form[_ngcontent-%COMP%]{max-width:20%}.input[_ngcontent-%COMP%]{padding-left:5px}h1[_ngcontent-%COMP%]{display:flex!important;margin-block-start:20px!important;margin-block-end:20px!important}[_nghost-%COMP%]     h2, h3[_ngcontent-%COMP%]{font-size:25px;display:flex!important;margin-block-start:10px!important;margin-block-end:10px!important}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-weight:900}.mat-divider-horizontal[_ngcontent-%COMP%]{width:100%;border-color:#000;border-top-width:1px}.comprar[_ngcontent-%COMP%]{background-color:#6016fd;color:#fff;border-radius:40px;margin-top:15px}.mat-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{background-color:#5200ffb5!important;color:#ffffff87}mat-form-field[_ngcontent-%COMP%]{margin-left:5px;border-radius:6px}[_nghost-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{padding:5px}[_nghost-%COMP%]     .mat-form-field-infix{padding:0;border-top:0px}[_nghost-%COMP%]     .mat-form-field-underline{bottom:0px}"]}),i})()}}]);