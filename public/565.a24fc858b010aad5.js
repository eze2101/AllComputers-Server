"use strict";(self.webpackChunkMercado=self.webpackChunkMercado||[]).push([[565],{8512:(Y,Z,n)=>{n.d(Z,{p:()=>L});var t=n(5e3),M=n(9097),x=n(1083),o=n(7192),v=n(7093),h=n(9808),b=n(9224),g=n(4834),P=n(773),A=n(7423);function y(l,C){1&l&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner"),t.qZA())}function I(l,C){if(1&l&&t._UZ(0,"img",4),2&l){const e=t.oxw();t.s9C("src",e.img.fileUrl,t.LSH)}}function U(l,C){if(1&l){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.editar(r.categoria.name)}),t._uU(1," Editar Categoria\n"),t.qZA()}}let E=(()=>{class l{constructor(e,u,r){this.router=e,this.productosService=u,this.authService=r,this.admin=!1,this.admin=this.authService.admin}ngOnInit(){this.buscarImagen()}irA(e){this.router.navigateByUrl(`/${this.url}/${e}`)}buscarImagen(){this.productosService.getImagen(this.categoria.img).subscribe(e=>{this.img=e})}editar(e){this.router.navigateByUrl(`/${this.url}/crear-editar-categoria/${e}`)}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(x.F0),t.Y36(M.k),t.Y36(o.e))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-tarjeta-categoria"]],inputs:{categoria:"categoria",url:"url"},decls:10,vars:6,consts:[[3,"click"],[4,"ngIf","ngIfElse"],["divImg",""],["mat-raised-button","","color","warn","class","boton",3,"click",4,"ngIf"],["alt","imagen categoria",3,"src"],["mat-raised-button","","color","warn",1,"boton",3,"click"]],template:function(e,u){if(1&e&&(t.TgZ(0,"mat-card",0),t.NdJ("click",function(){return u.irA(u.categoria.name)}),t.TgZ(1,"mat-card-title"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"mat-card-content"),t.YNc(6,y,2,0,"div",1),t.YNc(7,I,1,1,"ng-template",null,2,t.W1O),t.qZA()(),t.YNc(9,U,2,0,"button",3)),2&e){const r=t.MAs(8);t.xp6(2),t.Oqu(t.lcZ(3,4,u.categoria.name)),t.xp6(4),t.Q6J("ngIf",!u.img)("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",u.admin)}},directives:[b.a8,b.n5,g.d,b.dn,h.O5,P.Ou,A.lW],pipes:[h.rS],styles:["mat-card[_ngcontent-%COMP%]{height:100%;padding:0;display:flex;flex-direction:column;align-items:center;cursor:pointer;border-radius:40px}@media (max-width: 500px){mat-card[_ngcontent-%COMP%]{border-radius:20px}}img[_ngcontent-%COMP%]{width:100%;height:90%;object-fit:contain}mat-card-title[_ngcontent-%COMP%]{min-width:0;width:100%;height:25%;text-align:center;word-break:break-word;margin-bottom:0;display:flex;align-items:center;justify-content:center}mat-card-content[_ngcontent-%COMP%]{height:70%;width:90%;display:flex;align-items:flex-end;margin-bottom:0}.mat-card[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative;border-color:#000;border-top-width:1px}"]}),l})();function F(l,C){if(1&l&&(t.TgZ(0,"div",2),t._UZ(1,"app-tarjeta-categoria",3),t.qZA()),2&l){const e=C.$implicit,u=t.oxw();t.xp6(1),t.Q6J("categoria",e)("url",u.url)}}let L=(()=>{class l{constructor(e,u,r){this.productosService=e,this.router=u,this.authService=r,this.admin=!1,this.admin=this.authService.admin}ngOnInit(){this.url=this.router.url,this.categorias=this.authService.categorias}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(M.k),t.Y36(x.F0),t.Y36(o.e))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-categorias"]],decls:2,vars:1,consts:[["fxLayout","row wrap","fxLayoutAlign","center center",1,"categorias"],["fxFlex","15","fxFlex.md","20","fxFlex.sm","30","fxFlex.xs","40","class","categoria",4,"ngFor","ngForOf"],["fxFlex","15","fxFlex.md","20","fxFlex.sm","30","fxFlex.xs","40",1,"categoria"],[3,"categoria","url"]],template:function(e,u){1&e&&(t.TgZ(0,"div",0),t.YNc(1,F,2,2,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",u.categorias))},directives:[v.xw,v.Wh,h.sg,v.yH,E],styles:[".categorias[_ngcontent-%COMP%]{width:100%;margin:auto auto 30px;text-align:center}.categoria[_ngcontent-%COMP%]{height:250px;margin:10px 10px 40px}"]}),l})()},9258:(Y,Z,n)=>{n.d(Z,{K:()=>b});var t=n(9808),M=n(6234),x=n(3075),o=n(9764),v=n(1083),h=n(5e3);let b=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=h.oAB({type:g}),g.\u0275inj=h.cJS({imports:[[t.ez,M.q,x.u5,x.UX,o.o9,v.Bz]]}),g})()},1170:(Y,Z,n)=>{n.d(Z,{M:()=>R});var t=n(5e3),M=n(1083),x=n(7192),o=n(9097),v=n(5113),h=n(4594),b=n(7093),g=n(9808),P=n(4106),A=n(7531),y=n(3075),I=n(1079),U=n(508);function E(i,p){if(1&i&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&i){const a=p.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a.name,"")}}function F(i,p){if(1&i&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&i){const a=p.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a.name," ")}}let L=(()=>{class i{constructor(a,s,f){this.productoService=a,this.router=s,this.authService=f,this.termino="",this.productos=[],this.categorias=[],this.categoriasSugeridas=[],this.url="home",this.user=this.authService.usuario,this.authService.admin&&(this.url="admin")}ngOnInit(){this.productoService.getCategorias().subscribe(a=>this.categorias=a)}buscando(){this.productoService.getProductosSugeridos(this.termino.trim().toLowerCase()).subscribe(a=>this.productos=a),this.productoService.getCategoriasSugeridas(this.termino.trim()).subscribe(a=>this.categoriasSugeridas=a)}opcionSeleccionada(a){let s=this.categorias.filter(f=>f.name.trim()==a.option.value.name.trim());if(console.log(this.router.url),1==s.length)this.termino=s[0].name,this.router.navigateByUrl(`/${this.url}/${this.termino}`);else{const f=a.option.value;this.termino=f.name,this.router.navigateByUrl(`/${this.url}/${f.categoria}/${f.name}`)}}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(o.k),t.Y36(M.F0),t.Y36(x.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-buscar"]],decls:7,vars:4,consts:[["appearance","fill"],["type","text","placeholder","Buscar producto...","aria-label","Number","matInput","",3,"ngModel","matAutocomplete","ngModelChange","input"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,s){if(1&a&&(t.TgZ(0,"mat-form-field",0)(1,"input",1),t.NdJ("ngModelChange",function(T){return s.termino=T})("input",function(){return s.buscando()}),t.qZA(),t.TgZ(2,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(T){return s.opcionSeleccionada(T)}),t.TgZ(4,"mat-optgroup"),t.YNc(5,E,2,2,"mat-option",4),t.YNc(6,F,2,2,"mat-option",4),t.qZA()()()),2&a){const f=t.MAs(3);t.xp6(1),t.Q6J("ngModel",s.termino)("matAutocomplete",f),t.xp6(4),t.Q6J("ngForOf",s.categoriasSugeridas),t.xp6(1),t.Q6J("ngForOf",s.productos)}},directives:[P.KE,A.Nt,y.Fj,I.ZL,y.JJ,y.On,I.XC,U.Nv,g.sg,U.ey],styles:[".mat-optgroup-label{height:0px!important}.mat-input-element[_ngcontent-%COMP%]::placeholder{color:#ffffffb6}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000001a!important}.mat-form-field[_ngcontent-%COMP%]{display:flow-root}@media (max-width: 900px){.mat-form-field[_ngcontent-%COMP%]{display:flex;justify-content:end}}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{padding:0 0 0 10px!important}[_nghost-%COMP%]     .mat-form-field-wrapper{padding:0}[_nghost-%COMP%]     .mat-form-field-underline{bottom:2px}@media (min-width: 900px){[_nghost-%COMP%]     .mat-form-field-underline{bottom:0px}}"]}),i})();var l=n(7423),C=n(5245),e=n(2181);function u(i,p){1&i&&t._UZ(0,"app-buscar",6)}const r=function(){return["/home/carrito"]};function c(i,p){1&i&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3," Carrito "),t.qZA()),2&i&&t.Q6J("routerLink",t.DdM(1,r))}const d=function(){return["/home/compras"]};function m(i,p){1&i&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"local_mall"),t.qZA(),t._uU(3," Compras "),t.qZA()),2&i&&t.Q6J("routerLink",t.DdM(1,d))}function _(i,p){1&i&&(t.TgZ(0,"button",16)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," crear categoria "),t.qZA())}function O(i,p){1&i&&(t.TgZ(0,"button",17)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3,"crear Producto "),t.qZA())}function w(i,p){if(1&i){const a=t.EpF();t.TgZ(0,"div",7),t.YNc(1,c,4,2,"button",8),t.YNc(2,m,4,2,"button",8),t.YNc(3,_,4,0,"button",9),t.YNc(4,O,4,0,"button",10),t.TgZ(5,"button",11)(6,"mat-icon"),t._uU(7,"account_circle"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"mat-menu",12,13)(11,"button",14),t.NdJ("click",function(){return t.CHM(a),t.oxw().logOut()}),t.TgZ(12,"mat-icon"),t._uU(13,"logout"),t.qZA(),t._uU(14,"Log Out "),t.qZA()()()}if(2&i){const a=t.MAs(10),s=t.oxw();t.xp6(1),t.Q6J("ngIf",!s.admin),t.xp6(1),t.Q6J("ngIf",!s.admin),t.xp6(1),t.Q6J("ngIf",s.admin),t.xp6(1),t.Q6J("ngIf",s.admin),t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(3),t.hij(" ",s.usuario.name," ")}}function J(i,p){1&i&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3," Carrito "),t.qZA()),2&i&&t.Q6J("routerLink",t.DdM(1,r))}function S(i,p){1&i&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"local_mall"),t.qZA(),t._uU(3," Compras "),t.qZA()),2&i&&t.Q6J("routerLink",t.DdM(1,d))}function N(i,p){1&i&&(t.TgZ(0,"button",16)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," crear categoria "),t.qZA())}function B(i,p){1&i&&(t.TgZ(0,"button",17)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3,"crear Producto "),t.qZA())}function D(i,p){if(1&i){const a=t.EpF();t.TgZ(0,"div",18)(1,"button",11)(2,"mat-icon"),t._uU(3,"account_circle"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"mat-menu",12,19),t.YNc(7,J,4,2,"button",8),t.YNc(8,S,4,2,"button",8),t.YNc(9,N,4,0,"button",9),t.YNc(10,B,4,0,"button",10),t.TgZ(11,"button",14),t.NdJ("click",function(){return t.CHM(a),t.oxw().logOut()}),t.TgZ(12,"mat-icon"),t._uU(13,"logout"),t.qZA(),t._uU(14,"Log Out "),t.qZA()()()}if(2&i){const a=t.MAs(6),s=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(3),t.hij(" ",s.usuario.name," "),t.xp6(3),t.Q6J("ngIf",!s.admin),t.xp6(1),t.Q6J("ngIf",!s.admin),t.xp6(1),t.Q6J("ngIf",s.admin),t.xp6(1),t.Q6J("ngIf",s.admin)}}function j(i,p){if(1&i){const a=t.EpF();t.TgZ(0,"div")(1,"button",14),t.NdJ("click",function(){const T=t.CHM(a).$implicit;return t.oxw(2).irA(T.name)}),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()}if(2&i){const a=p.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,a.name)," ")}}function Q(i,p){if(1&i&&(t.TgZ(0,"div",7)(1,"div")(2,"button",15),t._uU(3," Categorias "),t.qZA()(),t.YNc(4,j,4,3,"div",20),t.qZA()),2&i){const a=t.oxw();t.xp6(2),t.Q6J("routerLink",a.admin?"/admin":"/home"),t.xp6(2),t.Q6J("ngForOf",a.categorias)}}function k(i,p){if(1&i){const a=t.EpF();t.TgZ(0,"div")(1,"button",14),t.NdJ("click",function(){const T=t.CHM(a).$implicit;return t.oxw(2).irA(T.name)}),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()}if(2&i){const a=p.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,a.name)," ")}}function W(i,p){if(1&i&&(t.TgZ(0,"div",7)(1,"button",21),t._uU(2," Categorias "),t.qZA(),t.TgZ(3,"div")(4,"button",22)(5,"mat-icon"),t._uU(6,"menu"),t.qZA()(),t.TgZ(7,"mat-menu",12,23),t.YNc(9,k,4,3,"div",20),t.qZA()()(),t.TgZ(10,"div"),t._UZ(11,"app-buscar"),t.qZA()),2&i){const a=t.MAs(8),s=t.oxw();t.xp6(1),t.Q6J("routerLink",s.admin?"/admin":"/home"),t.xp6(3),t.Q6J("matMenuTriggerFor",a),t.xp6(5),t.Q6J("ngForOf",s.categorias)}}let R=(()=>{class i{constructor(a,s,f,T){this.router=a,this.authService=s,this.productosService=f,this.breakpointObserver=T,this.usuario=this.authService.usuario,this.categorias=[],this.admin=!1,this.url="/home",this.menuComprimido=!1}ngOnInit(){this.categorias=this.authService.categorias,this.admin=this.authService.admin,this.breakpointObserver.observe(["(min-width: 1060px)"]).subscribe(a=>{this.menuComprimido=!a.matches})}logOut(){this.router.navigateByUrl("/auth"),this.authService.logOut()}irA(a){this.admin&&(this.url="/admin"),this.router.navigateByUrl(`/${this.url}/${a}`)}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(M.F0),t.Y36(x.e),t.Y36(o.k),t.Y36(v.Yg))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-menu"]],decls:13,vars:5,consts:[["fxLayout","row",1,"menuSuperior"],["fxFlex","30",1,"titulo"],["fxFlex","30",4,"ngIf"],["fxLayout","row",4,"ngIf","ngIfElse"],["MenuComprimido",""],["menuComprido",""],["fxFlex","30"],["fxLayout","row"],["mat-button","",3,"routerLink",4,"ngIf"],["mat-button","","routerLink","crear-editar-categoria/new",4,"ngIf"],["mat-button","","routerLink","crear-editar-producto/new",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before","fxLayout","column"],["menus","matMenu"],["mat-button","",3,"click"],["mat-button","",3,"routerLink"],["mat-button","","routerLink","crear-editar-categoria/new"],["mat-button","","routerLink","crear-editar-producto/new"],[1,"botonUser"],["user","matMenu"],[4,"ngFor","ngForOf"],["mat-button","",1,"categ",3,"routerLink"],["mat-icon-button","",3,"matMenuTriggerFor"],["categ","matMenu"]],template:function(a,s){if(1&a&&(t.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"div",0)(3,"span",1),t._uU(4,"All Computers"),t.qZA(),t.YNc(5,u,1,0,"app-buscar",2),t.YNc(6,w,15,6,"div",3),t.YNc(7,D,15,6,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(9,"mat-toolbar-row"),t.YNc(10,Q,5,2,"div",3),t.YNc(11,W,12,3,"ng-template",null,5,t.W1O),t.qZA()()),2&a){const f=t.MAs(8),T=t.MAs(12);t.xp6(5),t.Q6J("ngIf",!s.menuComprimido),t.xp6(1),t.Q6J("ngIf",!s.menuComprimido)("ngIfElse",f),t.xp6(4),t.Q6J("ngIf",!s.menuComprimido)("ngIfElse",T)}},directives:[h.Ye,h.rD,b.xw,b.yH,g.O5,L,l.lW,M.rH,C.Hw,e.p6,e.VK,g.sg],pipes:[g.rS],styles:[".menuSuperior[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;width:100%}.btMenuSUp[_ngcontent-%COMP%]{display:flex;justify-content:end}.titulo[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:35px;font-weight:700;padding-left:10px}.user[_ngcontent-%COMP%]{font-size:25px}.botonUser[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center}.categ[_ngcontent-%COMP%]{padding:0 10px}[_nghost-%COMP%]     span.mat-button-wrapper{display:flex!important;align-items:center!important}.mat-icon[_ngcontent-%COMP%]{color:#c59aff;margin-right:5px}.mat-icon-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}  .mat-menu-panel{background-color:#5200ff!important;color:#fff}  .mat-menu-panel span.mat-button-wrapper{display:flex!important;align-items:center!important}  .mat-menu-panel button{width:100%}.mat-toolbar[_ngcontent-%COMP%]{background-color:#3c00bb;color:#fff}.mat-toolbar[_ngcontent-%COMP%]{font-family:Cormorant Garamond,serif!important}.mat-button[_ngcontent-%COMP%]{font-family:Cormorant Garamond,serif!important;font-size:25px;display:inline-block;text-decoration:none;border-radius:10px}.mat-button[_ngcontent-%COMP%]:hover{border-radius:5px;background:rgb(95 24 245);box-shadow:1px 1px 8px #000}.mat-icon-button[_ngcontent-%COMP%]:hover{background:rgb(95 24 245);box-shadow:1px 1px 8px #000}.mat-form-field[_ngcontent-%COMP%]{display:contents}  .mat-menu-content{display:flex!important;flex-direction:column!important}  .mat-toolbar-row{padding:0!important;justify-content:space-between}"]}),i})()},3218:(Y,Z,n)=>{n.d(Z,{n:()=>C});var t=n(5e3),M=n(9097),x=n(1083),o=n(7192),v=n(7093),h=n(9808),b=n(773),g=n(9224),P=n(7423);function A(e,u){1&e&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner"),t.qZA())}function y(e,u){if(1&e&&t._UZ(0,"img",5),2&e){const r=t.oxw();t.s9C("src",r.img.fileUrl,t.LSH)}}function I(e,u){if(1&e){const r=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(r);const d=t.oxw();return d.editar(d.producto.name)}),t._uU(1," Editar Producto\n"),t.qZA()}}let U=(()=>{class e{constructor(r,c,d){this.productoService=r,this.router=c,this.authService=d,this.admin=!1,this.url=this.router.url,this.admin=this.authService.admin}ngOnInit(){this.buscarImagen()}verProducto(r){this.router.navigateByUrl(`/${this.url}/${r.name}`)}editar(r){this.router.navigateByUrl(`/admin/crear-editar-producto/${r}`)}buscarImagen(){this.productoService.getImagen(this.producto.img).subscribe(r=>{this.img=r})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(M.k),t.Y36(x.F0),t.Y36(o.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tarjeta-producto"]],inputs:{producto:"producto"},decls:11,vars:5,consts:[[3,"click"],[4,"ngIf","ngIfElse"],["divImg",""],["fxLayout","column"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["alt","imagen categoria",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(r,c){if(1&r&&(t.TgZ(0,"mat-card",0),t.NdJ("click",function(){return c.verProducto(c.producto)}),t.TgZ(1,"mat-card-title"),t._uU(2),t.qZA(),t.TgZ(3,"mat-card-content"),t.YNc(4,A,2,0,"div",1),t.YNc(5,y,1,1,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(7,"mat-card-footer",3)(8,"h2"),t._uU(9),t.qZA()()(),t.YNc(10,I,2,0,"button",4)),2&r){const d=t.MAs(6);t.xp6(2),t.Oqu(c.producto.name),t.xp6(2),t.Q6J("ngIf",!c.img)("ngIfElse",d),t.xp6(5),t.hij("$",c.producto.price,""),t.xp6(1),t.Q6J("ngIf",c.admin)}},directives:[g.a8,g.n5,g.dn,h.O5,b.Ou,g.rt,v.xw,P.lW],styles:["mat-card[_ngcontent-%COMP%]{height:100%;padding:0;display:flex;flex-direction:column;align-items:center;cursor:pointer;border-radius:25px}@media (max-width: 500px){mat-card[_ngcontent-%COMP%]{border-radius:20px}}img[_ngcontent-%COMP%]{width:100%;height:90%;object-fit:contain}mat-card-title[_ngcontent-%COMP%]{min-width:0;width:100%;height:30%;text-align:center;word-break:break-word;margin-bottom:0;display:flex;align-items:center;justify-content:center;padding-top:5px}mat-card-content[_ngcontent-%COMP%]{height:55%;width:90%;display:flex;align-items:center;margin-bottom:0}mat-card-footer[_ngcontent-%COMP%]{height:15%;display:flex;align-items:center;justify-content:center}"]}),e})();function E(e,u){1&e&&(t.TgZ(0,"div",3)(1,"h2",4),t._uU(2,"No hay Categoria con esa Url"),t.qZA(),t._UZ(3,"mat-spinner"),t.qZA())}function F(e,u){1&e&&(t.TgZ(0,"div",8)(1,"h1"),t._uU(2,"No hay productos disponibles en esta categoria"),t.qZA()())}function L(e,u){if(1&e&&(t.TgZ(0,"div",9),t._UZ(1,"app-tarjeta-producto",10),t.qZA()),2&e){const r=u.$implicit;t.xp6(1),t.Q6J("producto",r)}}function l(e,u){if(1&e&&(t.TgZ(0,"div",5),t.YNc(1,F,3,0,"div",6),t.YNc(2,L,2,1,"div",7),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.categoria&&0==r.productos.length),t.xp6(1),t.Q6J("ngForOf",r.productos)}}let C=(()=>{class e{constructor(r,c,d,m){this.productoService=r,this.router=c,this.activeRoute=d,this.authService=m,this.productos=[],this.prodXcate=[],this.admin=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.admin=this.authService.admin,this.url=this.router.url}ngOnInit(){this.activeRoute.paramMap.subscribe(r=>{this.nombre=r.get("name")}),this.productoService.getCategorias().subscribe(r=>{r.map(c=>{c.name==this.nombre&&(this.categoria=c)})}),this.productoService.getProductoXcategoria(this.nombre).subscribe(r=>{this.productos=r})}editar(r){this.router.navigateByUrl(`/${this.url}/crear-editar-producto/${r}`)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(M.k),t.Y36(x.F0),t.Y36(x.gz),t.Y36(o.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-por-categoria"]],decls:5,vars:2,consts:[["fxLayoutAlign","center center"],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap","class","noCategoria",4,"ngIf","ngIfElse"],["divCategoria",""],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap",1,"noCategoria"],["fxFlex","100","fxLayoutAlign","center"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"categoria"],["fxLayoutAlign","center center","class","noCategoria",4,"ngIf"],["fxFlex","20","fxFlex.md","25","fxFlex.sm","30","fxFlex.xs","40","class","productos",4,"ngFor","ngForOf"],["fxLayoutAlign","center center",1,"noCategoria"],["fxFlex","20","fxFlex.md","25","fxFlex.sm","30","fxFlex.xs","40",1,"productos"],[3,"producto"]],template:function(r,c){if(1&r&&(t.TgZ(0,"div",0),t.YNc(1,E,4,0,"div",1),t.qZA(),t.YNc(2,l,3,2,"ng-template",null,2,t.W1O),t._UZ(4,"router-outlet")),2&r){const d=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!c.categoria)("ngIfElse",d)}},directives:[v.Wh,h.O5,v.yH,v.xw,b.Ou,h.sg,U,x.lC],styles:[".categoria[_ngcontent-%COMP%]{width:100%;margin:auto auto 50px;text-align:center}.productos[_ngcontent-%COMP%]{height:270px;margin:10px 10px 40px}.noCategoria[_ngcontent-%COMP%]{background-color:#3c00bb;color:#fff;margin:100px 15px 15px;border-radius:10px;padding:15px 15px 40px;animation:2s ease 0s normal forwards 1 fadein}@keyframes fadein{0%{opacity:0}66%{opacity:0}to{opacity:1}}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#ede5e5!important}"]}),e})()},8325:(Y,Z,n)=>{n.d(Z,{g:()=>r});var t=n(3075),M=n(5226),x=n.n(M),o=n(5e3),v=n(9097),h=n(1083),b=n(7192),g=n(7093),P=n(9808),A=n(773),y=n(4834),I=n(7423),U=n(4106),E=n(7531);function F(c,d){1&c&&(o.TgZ(0,"div",3)(1,"h2",4),o._uU(2,"No hay producto con esa Url"),o.qZA(),o._UZ(3,"mat-spinner"),o.qZA())}function L(c,d){1&c&&(o.TgZ(0,"div"),o._UZ(1,"mat-spinner"),o.qZA())}function l(c,d){if(1&c&&(o.TgZ(0,"div",0),o._UZ(1,"img",17),o.qZA()),2&c){const m=o.oxw(2);o.xp6(1),o.s9C("src",m.img.fileUrl,o.LSH)}}function C(c,d){if(1&c){const m=o.EpF();o.TgZ(0,"div",18)(1,"button",19),o.NdJ("click",function(){o.CHM(m);const O=o.oxw(2);return O.editar(O.producto.name)}),o._uU(2," Editar Producto "),o.qZA()()}}function e(c,d){if(1&c){const m=o.EpF();o.TgZ(0,"div",20)(1,"mat-label"),o._uU(2,"Cantidad: "),o.qZA(),o.TgZ(3,"mat-form-field",21),o._UZ(4,"input",22),o.qZA(),o.TgZ(5,"button",23),o.NdJ("click",function(){return o.CHM(m),o.oxw(2).comprar()}),o._uU(6," Comprar "),o.qZA()()}if(2&c){const m=o.oxw(2);o.xp6(5),o.Q6J("disabled",m.miFormulario.invalid)}}function u(c,d){if(1&c&&(o.TgZ(0,"div",0)(1,"div",5)(2,"div",6),o.YNc(3,L,2,0,"div",7),o.YNc(4,l,2,1,"ng-template",null,8,o.W1O),o._UZ(6,"mat-divider"),o.TgZ(7,"div",9)(8,"div",10)(9,"h3"),o._uU(10,"Descripcion:"),o.qZA(),o.TgZ(11,"span"),o._uU(12),o.qZA()()()(),o.TgZ(13,"div",11)(14,"div",12)(15,"h1"),o._uU(16),o.qZA(),o._UZ(17,"mat-divider"),o.qZA(),o.TgZ(18,"div",13)(19,"h2"),o._uU(20),o.ALo(21,"currency"),o.qZA(),o.TgZ(22,"span"),o._uU(23),o.qZA()(),o.YNc(24,C,3,0,"div",14),o.TgZ(25,"form",15),o.YNc(26,e,7,1,"div",16),o.qZA()()()()),2&c){const m=o.MAs(5),_=o.oxw();o.xp6(3),o.Q6J("ngIf",!_.img)("ngIfElse",m),o.xp6(9),o.Oqu(_.producto.description),o.xp6(4),o.Oqu(_.producto.name),o.xp6(4),o.Oqu(o.lcZ(21,9,_.producto.price)),o.xp6(3),o.hij("Unidades disponibles: ",_.producto.stock,""),o.xp6(1),o.Q6J("ngIf",_.admin),o.xp6(1),o.Q6J("formGroup",_.miFormulario),o.xp6(1),o.Q6J("ngIf",!_.admin)}}let r=(()=>{class c{constructor(m,_,O,w,J){this.productoService=m,this.activeRoute=_,this.authService=O,this.router=w,this.fb=J,this.admin=!1,this.stock=0,this.miFormulario=this.fb.group({unidades:["",[t.kI.required,t.kI.min(1),S=>t.kI.max(this.stock)(S)]]}),this.admin=this.authService.admin,this.usuario=this.authService.usuario,console.log(this.usuario)}ngOnInit(){this.activeRoute.paramMap.subscribe(m=>{this.path=m.get("name")}),this.productoService.getProductosSugeridos(this.path).subscribe(m=>{this.producto=m[0],this.id=this.producto._id,this.stock=this.producto.stock,this.buscarImagen()})}editar(m){this.router.navigateByUrl(`/admin/crear-editar-producto/${m}`)}buscarImagen(){this.productoService.getImagen(this.producto.img).subscribe(m=>{this.img=m})}comprar(){const m=this.miFormulario.value.unidades;this.productoService.agregarACarrito(this.usuario.uid,{name:this.usuario.name,email:this.usuario.email,carrito:[{IDproducto:this.id,unidades:m,_id:this.id,precio:m*this.producto.price}]}).subscribe(O=>{this.authService.validarToken().subscribe(),x().fire({title:"Agregado al carrito ",text:"\xbfQuiere seguir comprando?",icon:"success",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Seguir comprando",cancelButtonColor:"#d33",cancelButtonText:"Ir al carrito"}).then(w=>{this.router.navigateByUrl(w.isConfirmed?"/home":"/home/carrito")})},O=>{x().fire({icon:"error",title:"Oops...",text:O.error.msg})})}}return c.\u0275fac=function(m){return new(m||c)(o.Y36(v.k),o.Y36(h.gz),o.Y36(b.e),o.Y36(h.F0),o.Y36(t.qu))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-producto"]],decls:4,vars:2,consts:[["fxLayoutAlign","center center"],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap","class","noProducto",4,"ngIf","ngIfElse"],["divProducto",""],["fxFlex","50","fxFlex.xs","100","fxLayoutAlign","center center","fxLayout","row wrap",1,"noProducto"],["fxFlex","100","fxLayoutAlign","center"],["fxLayout","row wrap","fxFlex","90",1,"container"],["fxFlex","65","fxLayout","column","fxFlex.xs","100",1,"imagen"],[4,"ngIf","ngIfElse"],["divImg",""],["fxLayout","center"],["fxFlex","100","fxLayout","column","fxLayoutAlign","center flex-start",1,"container4"],["fxFlex","30","fxFlex.xs","100","fxLayout","column","fxLayoutAlign","none center",1,"container2"],["fxLayout","column",1,"datos"],[1,"container3"],["fxLayoutAlign","center",4,"ngIf"],["autocomplete","off",3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","center center","class","unidades",4,"ngIf"],["alt","imagen producto",3,"src"],["fxLayoutAlign","center"],["mat-raised-button","","color","warn",3,"click"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"unidades"],["appearance","fill",1,"form"],["matInput","","type","number","formControlName","unidades","placeholder","0",1,"input"],["fxFlex","70","mat-button","",1,"comprar",3,"disabled","click"]],template:function(m,_){if(1&m&&(o.TgZ(0,"div",0),o.YNc(1,F,4,0,"div",1),o.qZA(),o.YNc(2,u,27,11,"ng-template",null,2,o.W1O)),2&m){const O=o.MAs(3);o.xp6(1),o.Q6J("ngIf",!_.producto)("ngIfElse",O)}},directives:[g.Wh,P.O5,g.yH,g.xw,A.Ou,y.d,I.lW,t._Y,t.JL,t.sg,U.hX,U.KE,E.Nt,t.wV,t.Fj,t.JJ,t.u],pipes:[P.H9],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;margin:15px;border-radius:10px}.container2[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.767);border-radius:5px;margin:10px;padding-bottom:10px;max-height:400px}.container3[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:15px;margin-bottom:15px}.container4[_ngcontent-%COMP%]{margin:0 0 15px 15px}.noProducto[_ngcontent-%COMP%]{background-color:#3c00bb;color:#fff;margin:100px 15px 15px;border-radius:10px;padding:15px 15px 40px;transition-delay:1s;animation:2s ease 0s normal forwards 1 fadein}@keyframes fadein{0%{opacity:0}66%{opacity:0}to{opacity:1}}  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#ede5e5!important}.imagen[_ngcontent-%COMP%]{max-height:1000px;display:flex;justify-content:center}img[_ngcontent-%COMP%]{width:50%;height:100%;max-height:500px;margin:10px 0}@media (max-width: 600px){img[_ngcontent-%COMP%]{width:80%;height:95%}}.datos[_ngcontent-%COMP%]{display:flex;align-items:center}.unidades[_ngcontent-%COMP%]{margin-top:15px}mat-label[_ngcontent-%COMP%]{font-size:25px;font-weight:600}span[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.form[_ngcontent-%COMP%]{max-width:20%}.input[_ngcontent-%COMP%]{padding-left:5px}h1[_ngcontent-%COMP%]{display:flex!important;margin-block-start:20px!important;margin-block-end:20px!important}[_nghost-%COMP%]     h2, h3[_ngcontent-%COMP%]{font-size:25px;display:flex!important;margin-block-start:10px!important;margin-block-end:10px!important}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-weight:900}.mat-divider-horizontal[_ngcontent-%COMP%]{width:100%;border-color:#000;border-top-width:1px}.comprar[_ngcontent-%COMP%]{background-color:#6016fd;color:#fff;border-radius:40px;margin-top:15px}.mat-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{background-color:#5200ffb5!important;color:#ffffff87}mat-form-field[_ngcontent-%COMP%]{margin-left:5px;border-radius:6px}[_nghost-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{padding:5px}[_nghost-%COMP%]     .mat-form-field-infix{padding:0;border-top:0px}[_nghost-%COMP%]     .mat-form-field-underline{bottom:0px}"]}),c})()}}]);