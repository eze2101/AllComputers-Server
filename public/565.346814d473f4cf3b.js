"use strict";(self.webpackChunkMercado=self.webpackChunkMercado||[]).push([[565],{8512:(S,P,e)=>{e.d(P,{p:()=>L});var t=e(5e3),C=e(9097),x=e(1083),o=e(7192),v=e(7093),_=e(9808),M=e(9224),d=e(4834),O=e(773),Z=e(7423);function A(m,h){1&m&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner"),t.qZA())}function U(m,h){if(1&m&&t._UZ(0,"img",4),2&m){const i=t.oxw();t.s9C("src",i.img.fileUrl,t.LSH)}}function y(m,h){if(1&m){const i=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return n.editar(n.categoria.name)}),t._uU(1," Editar Categoria\n"),t.qZA()}}let I=(()=>{class m{constructor(i,s,n){this.router=i,this.productosService=s,this.authService=n,this.admin=!1,this.admin=this.authService.admin}ngOnInit(){this.buscarImagen()}irA(i){this.router.navigateByUrl(`/${this.url}/${i}`)}buscarImagen(){this.productosService.getImagen(this.categoria.img).subscribe(i=>{this.img=i})}editar(i){this.router.navigateByUrl(`/${this.url}/crear-editar-categoria/${i}`)}}return m.\u0275fac=function(i){return new(i||m)(t.Y36(x.F0),t.Y36(C.k),t.Y36(o.e))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-tarjeta-categoria"]],inputs:{categoria:"categoria",url:"url"},decls:10,vars:6,consts:[[3,"click"],[4,"ngIf","ngIfElse"],["divImg",""],["mat-raised-button","","color","warn","class","boton",3,"click",4,"ngIf"],["alt","imagen categoria",3,"src"],["mat-raised-button","","color","warn",1,"boton",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"mat-card",0),t.NdJ("click",function(){return s.irA(s.categoria.name)}),t.TgZ(1,"mat-card-title"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"mat-card-content"),t.YNc(6,A,2,0,"div",1),t.YNc(7,U,1,1,"ng-template",null,2,t.W1O),t.qZA()(),t.YNc(9,y,2,0,"button",3)),2&i){const n=t.MAs(8);t.xp6(2),t.Oqu(t.lcZ(3,4,s.categoria.name)),t.xp6(4),t.Q6J("ngIf",!s.img)("ngIfElse",n),t.xp6(3),t.Q6J("ngIf",s.admin)}},directives:[M.a8,M.n5,d.d,M.dn,_.O5,O.Ou,Z.lW],pipes:[_.rS],styles:["mat-card[_ngcontent-%COMP%]{height:100%;padding:0;display:flex;flex-direction:column;align-items:center;cursor:pointer;border-radius:40px}@media (max-width: 500px){mat-card[_ngcontent-%COMP%]{border-radius:20px}}img[_ngcontent-%COMP%]{width:100%;height:90%;object-fit:contain}mat-card-title[_ngcontent-%COMP%]{min-width:0;width:100%;height:25%;text-align:center;word-break:break-word;margin-bottom:0;display:flex;align-items:center;justify-content:center}mat-card-content[_ngcontent-%COMP%]{height:70%;width:90%;display:flex;align-items:flex-end;margin-bottom:0}.mat-card[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative;border-color:#000;border-top-width:1px}"]}),m})();function E(m,h){if(1&m&&(t.TgZ(0,"div",2),t._UZ(1,"app-tarjeta-categoria",3),t.qZA()),2&m){const i=h.$implicit,s=t.oxw();t.xp6(1),t.Q6J("categoria",i)("url",s.url)}}let L=(()=>{class m{constructor(i,s,n){this.productosService=i,this.router=s,this.authService=n,this.admin=!1,this.admin=this.authService.admin}ngOnInit(){this.url=this.router.url,this.categorias=this.authService.categorias}}return m.\u0275fac=function(i){return new(i||m)(t.Y36(C.k),t.Y36(x.F0),t.Y36(o.e))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-categorias"]],decls:2,vars:1,consts:[["fxLayout","row wrap","fxLayoutAlign","center center",1,"categorias"],["fxFlex","15","fxFlex.md","20","fxFlex.sm","30","fxFlex.xs","40","class","categoria",4,"ngFor","ngForOf"],["fxFlex","15","fxFlex.md","20","fxFlex.sm","30","fxFlex.xs","40",1,"categoria"],[3,"categoria","url"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0),t.YNc(1,E,2,2,"div",1),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngForOf",s.categorias))},directives:[v.xw,v.Wh,_.sg,v.yH,I],styles:[".categorias[_ngcontent-%COMP%]{width:100%;margin:auto auto 30px;text-align:center}.categoria[_ngcontent-%COMP%]{height:250px;margin:10px 10px 40px}"]}),m})()},9258:(S,P,e)=>{e.d(P,{K:()=>M});var t=e(9808),C=e(6234),x=e(3075),o=e(9764),v=e(1083),_=e(5e3);let M=(()=>{class d{}return d.\u0275fac=function(Z){return new(Z||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[[t.ez,C.q,x.u5,x.UX,o.o9,v.Bz]]}),d})()},1170:(S,P,e)=>{e.d(P,{M:()=>R});var t=e(5e3),C=e(1083),x=e(7192),o=e(9097),v=e(5113),_=e(4594),M=e(7093),d=e(9808),O=e(4106),Z=e(7531),A=e(3075),U=e(1079),y=e(508);function I(a,p){if(1&a&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&a){const r=p.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r.name,"")}}function E(a,p){if(1&a&&(t.TgZ(0,"mat-option",5),t._uU(1),t.qZA()),2&a){const r=p.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r.name," ")}}let L=(()=>{class a{constructor(r,u,f){this.productoService=r,this.router=u,this.authService=f,this.termino="",this.productos=[],this.categorias=[],this.categoriasSugeridas=[],this.url="home",this.user=this.authService.usuario,this.authService.admin&&(this.url="admin")}ngOnInit(){this.productoService.getCategorias().subscribe(r=>this.categorias=r)}buscando(){this.productoService.getProductosSugeridos(this.termino.trim().toLowerCase()).subscribe(r=>this.productos=r),this.productoService.getCategoriasSugeridas(this.termino.trim()).subscribe(r=>this.categoriasSugeridas=r)}opcionSeleccionada(r){let u=this.categorias.filter(f=>f.name.trim()==r.option.value.name.trim());if(console.log(this.router.url),1==u.length)this.termino=u[0].name,this.router.navigateByUrl(`/${this.url}/${this.termino}`);else{const f=r.option.value;this.termino=f.name,this.router.navigateByUrl(`/${this.url}/${f.categoria}/${f.name}`)}}}return a.\u0275fac=function(r){return new(r||a)(t.Y36(o.k),t.Y36(C.F0),t.Y36(x.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-buscar"]],decls:7,vars:4,consts:[["appearance","fill"],["type","text","placeholder","Buscar producto...","aria-label","Number","matInput","",3,"ngModel","matAutocomplete","ngModelChange","input"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,u){if(1&r&&(t.TgZ(0,"mat-form-field",0)(1,"input",1),t.NdJ("ngModelChange",function(T){return u.termino=T})("input",function(){return u.buscando()}),t.qZA(),t.TgZ(2,"mat-autocomplete",2,3),t.NdJ("optionSelected",function(T){return u.opcionSeleccionada(T)}),t.TgZ(4,"mat-optgroup"),t.YNc(5,I,2,2,"mat-option",4),t.YNc(6,E,2,2,"mat-option",4),t.qZA()()()),2&r){const f=t.MAs(3);t.xp6(1),t.Q6J("ngModel",u.termino)("matAutocomplete",f),t.xp6(4),t.Q6J("ngForOf",u.categoriasSugeridas),t.xp6(1),t.Q6J("ngForOf",u.productos)}},directives:[O.KE,Z.Nt,A.Fj,U.ZL,A.JJ,A.On,U.XC,y.Nv,d.sg,y.ey],styles:[".mat-optgroup-label{height:0px!important}.mat-input-element[_ngcontent-%COMP%]::placeholder{color:#ffffffb6}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000001a!important}.mat-form-field[_ngcontent-%COMP%]{display:flow-root}@media (max-width: 900px){.mat-form-field[_ngcontent-%COMP%]{display:flex;justify-content:end}}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{padding:0 0 0 10px!important}[_nghost-%COMP%]     .mat-form-field-wrapper{padding:0}[_nghost-%COMP%]     .mat-form-field-underline{bottom:2px}@media (min-width: 900px){[_nghost-%COMP%]     .mat-form-field-underline{bottom:0px}}"]}),a})();var m=e(7423),h=e(5245),i=e(2181);function s(a,p){1&a&&t._UZ(0,"app-buscar",6)}const n=function(){return["/home/carrito"]};function l(a,p){1&a&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3," Carrito "),t.qZA()),2&a&&t.Q6J("routerLink",t.DdM(1,n))}const c=function(){return["/home/compras"]};function g(a,p){1&a&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"local_mall"),t.qZA(),t._uU(3," Compras "),t.qZA()),2&a&&t.Q6J("routerLink",t.DdM(1,c))}function b(a,p){1&a&&(t.TgZ(0,"button",16)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," crear categoria "),t.qZA())}function F(a,p){1&a&&(t.TgZ(0,"button",17)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3,"crear Producto "),t.qZA())}function w(a,p){if(1&a){const r=t.EpF();t.TgZ(0,"div",7),t.YNc(1,l,4,2,"button",8),t.YNc(2,g,4,2,"button",8),t.YNc(3,b,4,0,"button",9),t.YNc(4,F,4,0,"button",10),t.TgZ(5,"button",11)(6,"mat-icon"),t._uU(7,"account_circle"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"mat-menu",12,13)(11,"button",14),t.NdJ("click",function(){return t.CHM(r),t.oxw().logOut()}),t.TgZ(12,"mat-icon"),t._uU(13,"logout"),t.qZA(),t._uU(14,"Log Out "),t.qZA()()()}if(2&a){const r=t.MAs(10),u=t.oxw();t.xp6(1),t.Q6J("ngIf",!u.admin),t.xp6(1),t.Q6J("ngIf",!u.admin),t.xp6(1),t.Q6J("ngIf",u.admin),t.xp6(1),t.Q6J("ngIf",u.admin),t.xp6(1),t.Q6J("matMenuTriggerFor",r),t.xp6(3),t.hij(" ",u.usuario.name," ")}}function Y(a,p){1&a&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3," Carrito "),t.qZA()),2&a&&t.Q6J("routerLink",t.DdM(1,n))}function J(a,p){1&a&&(t.TgZ(0,"button",15)(1,"mat-icon"),t._uU(2,"local_mall"),t.qZA(),t._uU(3," Compras "),t.qZA()),2&a&&t.Q6J("routerLink",t.DdM(1,c))}function N(a,p){1&a&&(t.TgZ(0,"button",16)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," crear categoria "),t.qZA())}function B(a,p){1&a&&(t.TgZ(0,"button",17)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3,"crear Producto "),t.qZA())}function D(a,p){if(1&a){const r=t.EpF();t.TgZ(0,"div",18)(1,"button",11)(2,"mat-icon"),t._uU(3,"account_circle"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"mat-menu",12,19),t.YNc(7,Y,4,2,"button",8),t.YNc(8,J,4,2,"button",8),t.YNc(9,N,4,0,"button",9),t.YNc(10,B,4,0,"button",10),t.TgZ(11,"button",14),t.NdJ("click",function(){return t.CHM(r),t.oxw().logOut()}),t.TgZ(12,"mat-icon"),t._uU(13,"logout"),t.qZA(),t._uU(14,"Log Out "),t.qZA()()()}if(2&a){const r=t.MAs(6),u=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",r),t.xp6(3),t.hij(" ",u.usuario.name," "),t.xp6(3),t.Q6J("ngIf",!u.admin),t.xp6(1),t.Q6J("ngIf",!u.admin),t.xp6(1),t.Q6J("ngIf",u.admin),t.xp6(1),t.Q6J("ngIf",u.admin)}}function j(a,p){if(1&a){const r=t.EpF();t.TgZ(0,"div")(1,"button",14),t.NdJ("click",function(){const T=t.CHM(r).$implicit;return t.oxw(2).irA(T.name)}),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()}if(2&a){const r=p.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,r.name)," ")}}function Q(a,p){if(1&a&&(t.TgZ(0,"div",7)(1,"div")(2,"button",15),t._uU(3," Categorias "),t.qZA()(),t.YNc(4,j,4,3,"div",20),t.qZA()),2&a){const r=t.oxw();t.xp6(2),t.Q6J("routerLink",r.admin?"/admin":"/home"),t.xp6(2),t.Q6J("ngForOf",r.categorias)}}function W(a,p){if(1&a){const r=t.EpF();t.TgZ(0,"div")(1,"button",14),t.NdJ("click",function(){const T=t.CHM(r).$implicit;return t.oxw(2).irA(T.name)}),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()}if(2&a){const r=p.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,r.name)," ")}}function k(a,p){if(1&a&&(t.TgZ(0,"div",7)(1,"button",21),t._uU(2," Categorias "),t.qZA(),t.TgZ(3,"div")(4,"button",22)(5,"mat-icon"),t._uU(6,"menu"),t.qZA()(),t.TgZ(7,"mat-menu",12,23),t.YNc(9,W,4,3,"div",20),t.qZA()()(),t.TgZ(10,"div"),t._UZ(11,"app-buscar"),t.qZA()),2&a){const r=t.MAs(8),u=t.oxw();t.xp6(1),t.Q6J("routerLink",u.admin?"/admin":"/home"),t.xp6(3),t.Q6J("matMenuTriggerFor",r),t.xp6(5),t.Q6J("ngForOf",u.categorias)}}let R=(()=>{class a{constructor(r,u,f,T){this.router=r,this.authService=u,this.productosService=f,this.breakpointObserver=T,this.usuario=this.authService.usuario,this.categorias=[],this.admin=!1,this.url="/home",this.menuComprimido=!1}ngOnInit(){this.categorias=this.authService.categorias,this.admin=this.authService.admin,this.breakpointObserver.observe(["(min-width: 900px)"]).subscribe(r=>{this.menuComprimido=!r.matches})}logOut(){this.router.navigateByUrl("/auth"),this.authService.logOut()}irA(r){this.admin&&(this.url="/admin"),this.router.navigateByUrl(`/${this.url}/${r}`)}}return a.\u0275fac=function(r){return new(r||a)(t.Y36(C.F0),t.Y36(x.e),t.Y36(o.k),t.Y36(v.Yg))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-menu"]],decls:13,vars:5,consts:[["fxLayout","row",1,"menuSuperior"],["fxFlex","30",1,"titulo"],["fxFlex","30",4,"ngIf"],["fxLayout","row",4,"ngIf","ngIfElse"],["MenuComprimido",""],["menuComprido",""],["fxFlex","30"],["fxLayout","row"],["mat-button","",3,"routerLink",4,"ngIf"],["mat-button","","routerLink","crear-editar-categoria/new",4,"ngIf"],["mat-button","","routerLink","crear-editar-producto/new",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],["xPosition","before","fxLayout","column"],["menus","matMenu"],["mat-button","",3,"click"],["mat-button","",3,"routerLink"],["mat-button","","routerLink","crear-editar-categoria/new"],["mat-button","","routerLink","crear-editar-producto/new"],[1,"botonUser"],["user","matMenu"],[4,"ngFor","ngForOf"],["mat-button","",1,"categ",3,"routerLink"],["mat-icon-button","",3,"matMenuTriggerFor"],["categ","matMenu"]],template:function(r,u){if(1&r&&(t.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"div",0)(3,"span",1),t._uU(4,"All Computers"),t.qZA(),t.YNc(5,s,1,0,"app-buscar",2),t.YNc(6,w,15,6,"div",3),t.YNc(7,D,15,6,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(9,"mat-toolbar-row"),t.YNc(10,Q,5,2,"div",3),t.YNc(11,k,12,3,"ng-template",null,5,t.W1O),t.qZA()()),2&r){const f=t.MAs(8),T=t.MAs(12);t.xp6(5),t.Q6J("ngIf",!u.menuComprimido),t.xp6(1),t.Q6J("ngIf",!u.menuComprimido)("ngIfElse",f),t.xp6(4),t.Q6J("ngIf",!u.menuComprimido)("ngIfElse",T)}},directives:[_.Ye,_.rD,M.xw,M.yH,d.O5,L,m.lW,C.rH,h.Hw,i.p6,i.VK,d.sg],pipes:[d.rS],styles:[".menuSuperior[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;width:100%}.btMenuSUp[_ngcontent-%COMP%]{display:flex;justify-content:end}.titulo[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:35px;font-weight:700;padding-left:10px}.user[_ngcontent-%COMP%]{font-size:25px}.botonUser[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center}.categ[_ngcontent-%COMP%]{padding:0 10px}[_nghost-%COMP%]     span.mat-button-wrapper{display:flex!important;align-items:center!important}.mat-icon[_ngcontent-%COMP%]{color:#c59aff;margin-right:5px}.mat-icon-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}  .mat-menu-panel{background-color:#5200ff!important;color:#fff}  .mat-menu-panel span.mat-button-wrapper{display:flex!important;align-items:center!important}  .mat-menu-panel button{width:100%}.mat-toolbar[_ngcontent-%COMP%]{background-color:#3c00bb;color:#fff}.mat-toolbar[_ngcontent-%COMP%]{font-family:Cormorant Garamond,serif!important}.mat-button[_ngcontent-%COMP%]{font-family:Cormorant Garamond,serif!important;font-size:25px;display:inline-block;text-decoration:none;border-radius:10px}.mat-button[_ngcontent-%COMP%]:hover{border-radius:5px;background:rgb(95 24 245);box-shadow:1px 1px 8px #000}.mat-icon-button[_ngcontent-%COMP%]:hover{background:rgb(95 24 245);box-shadow:1px 1px 8px #000}.mat-form-field[_ngcontent-%COMP%]{display:contents}  .mat-menu-content{display:flex!important;flex-direction:column!important}  .mat-toolbar-row{padding:0!important;justify-content:space-between}"]}),a})()},3218:(S,P,e)=>{e.d(P,{n:()=>h});var t=e(5e3),C=e(9097),x=e(1083),o=e(7192),v=e(9808),_=e(7093),M=e(773),d=e(9224),O=e(4834),Z=e(7423);function A(i,s){1&i&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner"),t.qZA())}function U(i,s){if(1&i&&t._UZ(0,"img",5),2&i){const n=t.oxw();t.s9C("src",n.img.fileUrl,t.LSH)}}function y(i,s){if(1&i){const n=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return c.editar(c.producto.name)}),t._uU(1," Editar Producto\n"),t.qZA()}}let I=(()=>{class i{constructor(n,l,c){this.productoService=n,this.router=l,this.authService=c,this.admin=!1,this.url=this.router.url,this.admin=this.authService.admin}ngOnInit(){this.buscarImagen()}verProducto(n){this.router.navigateByUrl(`/${this.url}/${n.name}`)}editar(n){this.router.navigateByUrl(`/admin/crear-editar-producto/${n}`)}buscarImagen(){this.productoService.getImagen(this.producto.img).subscribe(n=>{this.img=n})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(C.k),t.Y36(x.F0),t.Y36(o.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-tarjeta-producto"]],inputs:{producto:"producto"},decls:12,vars:5,consts:[[3,"click"],[4,"ngIf","ngIfElse"],["divImg",""],["fxLayout","column"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["alt","imagen categoria",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,l){if(1&n&&(t.TgZ(0,"mat-card",0),t.NdJ("click",function(){return l.verProducto(l.producto)}),t.TgZ(1,"mat-card-title"),t._uU(2),t.qZA(),t._UZ(3,"mat-divider"),t.TgZ(4,"mat-card-content"),t.YNc(5,A,2,0,"div",1),t.YNc(6,U,1,1,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(8,"mat-card-footer",3)(9,"h2"),t._uU(10),t.qZA()()(),t.YNc(11,y,2,0,"button",4)),2&n){const c=t.MAs(7);t.xp6(2),t.Oqu(l.producto.name),t.xp6(3),t.Q6J("ngIf",!l.img)("ngIfElse",c),t.xp6(5),t.hij("$",l.producto.price,""),t.xp6(1),t.Q6J("ngIf",l.admin)}},directives:[d.a8,d.n5,O.d,d.dn,v.O5,M.Ou,d.rt,_.xw,Z.lW],styles:["mat-card[_ngcontent-%COMP%]{height:100%;padding:0;display:flex;flex-direction:column;align-items:center;cursor:pointer;border-radius:40px}@media (max-width: 500px){mat-card[_ngcontent-%COMP%]{border-radius:20px}}img[_ngcontent-%COMP%]{width:100%;height:90%;object-fit:contain}mat-card-title[_ngcontent-%COMP%]{min-width:0;width:100%;height:20%;text-align:center;word-break:break-word;margin-bottom:0;display:flex;align-items:center;justify-content:center}mat-card-content[_ngcontent-%COMP%]{height:60%;width:90%;display:flex;align-items:center;margin-bottom:0}mat-card-footer[_ngcontent-%COMP%]{height:20%;display:flex;align-items:center;justify-content:center}.mat-card[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative;border-color:#000;border-top-width:1px}"]}),i})();function E(i,s){1&i&&(t.TgZ(0,"div",2)(1,"h2",3),t._uU(2,"No hay Categoria con esa Url"),t.qZA(),t._UZ(3,"mat-spinner"),t.qZA())}function L(i,s){if(1&i&&(t.TgZ(0,"div",6),t._UZ(1,"app-tarjeta-producto",7),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("producto",n)}}function m(i,s){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,L,2,1,"div",5),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.productos)}}let h=(()=>{class i{constructor(n,l,c,g){this.productoService=n,this.router=l,this.activeRoute=c,this.authService=g,this.productos=[],this.prodXcate=[],this.admin=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.admin=this.authService.admin,this.url=this.router.url}ngOnInit(){this.activeRoute.paramMap.subscribe(n=>{this.nombre=n.get("name")}),this.productoService.getCategorias().subscribe(n=>{n.map(l=>{l.name==this.nombre&&(this.categoria=l)})}),this.productoService.getProductoXcategoria(this.nombre).subscribe(n=>{this.productos=n})}editar(n){this.router.navigateByUrl(`/${this.url}/crear-editar-producto/${n}`)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(C.k),t.Y36(x.F0),t.Y36(x.gz),t.Y36(o.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-por-categoria"]],decls:4,vars:2,consts:[["fxLayoutAlign","center center","fxLayout","row wrap","class","noCategoria",4,"ngIf","ngIfElse"],["divCategoria",""],["fxLayoutAlign","center center","fxLayout","row wrap",1,"noCategoria"],["fxFlex","100","fxLayoutAlign","center"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"categoria"],["fxFlex","15","fxFlex.md","20","fxFlex.sm","30","fxFlex.xs","40","class","productos",4,"ngFor","ngForOf"],["fxFlex","15","fxFlex.md","20","fxFlex.sm","30","fxFlex.xs","40",1,"productos"],[3,"producto"]],template:function(n,l){if(1&n&&(t.YNc(0,E,4,0,"div",0),t.YNc(1,m,2,1,"ng-template",null,1,t.W1O),t._UZ(3,"router-outlet")),2&n){const c=t.MAs(2);t.Q6J("ngIf",!l.categoria)("ngIfElse",c)}},directives:[v.O5,_.Wh,_.xw,_.yH,M.Ou,v.sg,I,x.lC],styles:[".categoria[_ngcontent-%COMP%]{width:100%;margin:auto auto 50px;text-align:center}.productos[_ngcontent-%COMP%]{height:250px;margin:10px 10px 40px}.noCategoria[_ngcontent-%COMP%]{background-color:#fff;margin:15px;border-radius:10px;padding:15px 15px 40px}"]}),i})()},8325:(S,P,e)=>{e.d(P,{g:()=>s});var t=e(3075),C=e(5226),x=e.n(C),o=e(5e3),v=e(9097),_=e(1083),M=e(7192),d=e(9808),O=e(7093),Z=e(773),A=e(4834),U=e(7423),y=e(4106),I=e(7531);function E(n,l){1&n&&(o.TgZ(0,"div",2)(1,"h2",3),o._uU(2,"No hay producto con esa Url"),o.qZA(),o._uU(3," //TODO ver loading "),o._UZ(4,"mat-spinner"),o.qZA())}function L(n,l){1&n&&(o.TgZ(0,"div"),o._UZ(1,"mat-spinner"),o.qZA())}function m(n,l){if(1&n&&o._UZ(0,"img",19),2&n){const c=o.oxw(2);o.s9C("src",c.img.fileUrl,o.LSH)}}function h(n,l){if(1&n){const c=o.EpF();o.TgZ(0,"div",20)(1,"button",21),o.NdJ("click",function(){o.CHM(c);const b=o.oxw(2);return b.editar(b.producto.name)}),o._uU(2," Editar Producto "),o.qZA()()}}function i(n,l){if(1&n){const c=o.EpF();o.TgZ(0,"div",4)(1,"div",5)(2,"div",6),o.YNc(3,L,2,0,"div",7),o.YNc(4,m,1,1,"ng-template",null,8,o.W1O),o.TgZ(6,"div",9)(7,"h3"),o._uU(8,"Descripcion:"),o.qZA(),o.TgZ(9,"span"),o._uU(10),o.qZA()()(),o.TgZ(11,"div",10)(12,"div",11)(13,"h1"),o._uU(14),o.qZA(),o._UZ(15,"mat-divider"),o.qZA(),o.TgZ(16,"div",12)(17,"h2"),o._uU(18),o.ALo(19,"currency"),o.qZA(),o.TgZ(20,"span"),o._uU(21),o.qZA()(),o.YNc(22,h,3,0,"div",13),o.TgZ(23,"form",14)(24,"div",15)(25,"mat-label"),o._uU(26,"Cantidad: "),o.qZA(),o.TgZ(27,"mat-form-field",16),o._UZ(28,"input",17),o.qZA(),o.TgZ(29,"button",18),o.NdJ("click",function(){return o.CHM(c),o.oxw().comprar()}),o._uU(30," Comprar "),o.qZA()()()()()()}if(2&n){const c=o.MAs(5),g=o.oxw();o.xp6(3),o.Q6J("ngIf",!g.img)("ngIfElse",c),o.xp6(7),o.hij("",g.producto.description," Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo mollitia possimus dolorem. Sapiente accusamus quo dignissimos saepe quia neque animi corporis culpa, ut fuga atque aspernatur, sit dolores soluta facilis!"),o.xp6(4),o.Oqu(g.producto.name),o.xp6(4),o.Oqu(o.lcZ(19,9,g.producto.price)),o.xp6(3),o.hij("Unidades disponibles: ",g.producto.stock,""),o.xp6(1),o.Q6J("ngIf",g.admin),o.xp6(1),o.Q6J("formGroup",g.miFormulario),o.xp6(6),o.Q6J("disabled",g.miFormulario.invalid)}}let s=(()=>{class n{constructor(c,g,b,F,w){this.productoService=c,this.activeRoute=g,this.authService=b,this.router=F,this.fb=w,this.admin=!1,this.stock=0,this.miFormulario=this.fb.group({unidades:["",[t.kI.required,t.kI.min(1),Y=>t.kI.max(this.stock)(Y)]]}),this.admin=this.authService.admin,this.usuario=this.authService.usuario,console.log(this.usuario)}ngOnInit(){this.activeRoute.paramMap.subscribe(c=>{this.path=c.get("name")}),this.productoService.getProductosSugeridos(this.path).subscribe(c=>{this.producto=c[0],this.id=this.producto._id,this.stock=this.producto.stock,this.buscarImagen()})}editar(c){this.router.navigateByUrl(`/admin/crear-editar-producto/${c}`)}buscarImagen(){this.productoService.getImagen(this.producto.img).subscribe(c=>{this.img=c})}comprar(){this.productoService.agregarACarrito(this.usuario.uid,{name:this.usuario.name,email:this.usuario.email,carrito:[{IDproducto:this.id,unidades:this.miFormulario.value.unidades,_id:this.id}]}).subscribe(b=>{this.authService.validarToken().subscribe(),x().fire({title:"Agregado al carrito ",text:"\xbfQuiere seguir comprando?",icon:"success",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Seguir comprando",cancelButtonColor:"#d33",cancelButtonText:"Ir al carrito"}).then(F=>{this.router.navigateByUrl(F.isConfirmed?"/home":"/home/carrito")})},b=>{x().fire({icon:"error",title:"Oops...",text:b.error.msg})})}}return n.\u0275fac=function(c){return new(c||n)(o.Y36(v.k),o.Y36(_.gz),o.Y36(M.e),o.Y36(_.F0),o.Y36(t.qu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-producto"]],decls:3,vars:2,consts:[["fxLayoutAlign","center center","fxLayout","row wrap","class","noProducto",4,"ngIf","ngIfElse"],["divProducto",""],["fxLayoutAlign","center center","fxLayout","row wrap",1,"noProducto"],["fxFlex","100","fxLayoutAlign","center"],["fxLayoutAlign","center center"],["fxLayout","row wrap","fxFlex","90",1,"container"],["fxFlex","65","fxLayout","column","fxFlex.xs","100",1,"imagen"],[4,"ngIf","ngIfElse"],["divImg",""],["fxFlex","100","fxLayout","column","fxLayoutAlign","center flex-start"],["fxFlex","30","fxFlex.xs","100","fxLayout","column","fxLayoutAlign","none center",1,"container2"],["fxLayout","column",1,"datos"],[1,"container3"],["fxLayoutAlign","center",4,"ngIf"],["autocomplete","off",3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"unidades"],["appearance","fill",1,"form"],["matInput","","type","number","formControlName","unidades","placeholder","0",1,"input"],["fxFlex","70","mat-button","",1,"comprar",3,"disabled","click"],["alt","imagen categoria",3,"src"],["fxLayoutAlign","center"],["mat-raised-button","","color","warn",3,"click"]],template:function(c,g){if(1&c&&(o.YNc(0,E,5,0,"div",0),o.YNc(1,i,31,11,"ng-template",null,1,o.W1O)),2&c){const b=o.MAs(2);o.Q6J("ngIf",!g.producto)("ngIfElse",b)}},directives:[d.O5,O.Wh,O.xw,O.yH,Z.Ou,A.d,U.lW,t._Y,t.JL,t.sg,y.hX,y.KE,I.Nt,t.wV,t.Fj,t.JJ,t.u],pipes:[d.H9],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;margin:15px;border-radius:10px}.container2[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.767);border-radius:5px;margin:10px;padding-bottom:10px;max-height:400px}.container3[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:15px;margin-bottom:15px}.noProducto[_ngcontent-%COMP%]{background-color:#fff;margin:15px;border-radius:10px;padding:15px 15px 40px}.imagen[_ngcontent-%COMP%]{max-height:1000px;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:50%;height:100%;max-height:500px}@media (max-width: 600px){img[_ngcontent-%COMP%]{width:80%;height:95%}}.datos[_ngcontent-%COMP%]{display:flex;align-items:center}.unidades[_ngcontent-%COMP%]{margin-top:15px}mat-label[_ngcontent-%COMP%]{font-size:25px;font-weight:600}span[_ngcontent-%COMP%]{font-size:20px}.form[_ngcontent-%COMP%]{max-width:20%}.input[_ngcontent-%COMP%]{padding-left:5px}h1[_ngcontent-%COMP%]{display:flex!important;margin-block-start:20px!important;margin-block-end:20px!important}[_nghost-%COMP%]     h2, h3[_ngcontent-%COMP%]{font-size:25px;display:flex!important;margin-block-start:10px!important;margin-block-end:10px!important}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-weight:900}.mat-divider-horizontal[_ngcontent-%COMP%]{width:100%;border-color:#000;border-top-width:1px}.comprar[_ngcontent-%COMP%]{background-color:#6016fd;color:#fff;border-radius:40px;margin-top:15px}.mat-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{background-color:#5200ffb5!important;color:#ffffff87}mat-form-field[_ngcontent-%COMP%]{margin-left:5px;border-radius:6px}[_nghost-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{padding:5px}[_nghost-%COMP%]     .mat-form-field-infix{padding:0;border-top:0px}[_nghost-%COMP%]     .mat-form-field-underline{bottom:0px}"]}),n})()}}]);